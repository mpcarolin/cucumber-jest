"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getMocks;

var _child_process = require("child_process");

var _path = _interopRequireDefault(require("path"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getMocks(cwd) {
  const mocks = (0, _child_process.spawnSync)('node', [_path.default.normalize(_path.default.resolve(__dirname, 'getPaths.js')), cwd, _path.default.join('**', '__mocks__', '**', '*')], {
    encoding: 'utf-8'
  }).stdout;
  return JSON.parse(mocks).filter(mock => !mock.includes('node_modules')).map(mock => mock.replace(process.cwd(), '')).map(mock => mock.startsWith(_path.default.normalize('/__mocks__/')) ? _path.default.dirname(_path.default.normalize(mock.replace('/__mocks__/', ''))) : mock);
}

module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9nZXRNb2Nrcy50cyJdLCJuYW1lcyI6WyJnZXRNb2NrcyIsImN3ZCIsIm1vY2tzIiwicGF0aCIsIm5vcm1hbGl6ZSIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJqb2luIiwiZW5jb2RpbmciLCJzdGRvdXQiLCJKU09OIiwicGFyc2UiLCJmaWx0ZXIiLCJtb2NrIiwiaW5jbHVkZXMiLCJtYXAiLCJyZXBsYWNlIiwicHJvY2VzcyIsInN0YXJ0c1dpdGgiLCJkaXJuYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFZSxTQUFTQSxRQUFULENBQWtCQyxHQUFsQixFQUErQjtBQUUxQyxRQUFNQyxLQUFLLEdBQUcsOEJBQ1YsTUFEVSxFQUVWLENBQUNDLGNBQUtDLFNBQUwsQ0FBZUQsY0FBS0UsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGFBQXhCLENBQWYsQ0FBRCxFQUF5REwsR0FBekQsRUFBOERFLGNBQUtJLElBQUwsQ0FBVSxJQUFWLEVBQWUsV0FBZixFQUEyQixJQUEzQixFQUFnQyxHQUFoQyxDQUE5RCxDQUZVLEVBR1Y7QUFBQ0MsSUFBQUEsUUFBUSxFQUFFO0FBQVgsR0FIVSxFQUlaQyxNQUpGO0FBTUEsU0FBT0MsSUFBSSxDQUFDQyxLQUFMLENBQVdULEtBQVgsRUFDRlUsTUFERSxDQUNNQyxJQUFELElBQVUsQ0FBQ0EsSUFBSSxDQUFDQyxRQUFMLENBQWMsY0FBZCxDQURoQixFQUVGQyxHQUZFLENBRUdGLElBQUQsSUFBVUEsSUFBSSxDQUFDRyxPQUFMLENBQWFDLE9BQU8sQ0FBQ2hCLEdBQVIsRUFBYixFQUE0QixFQUE1QixDQUZaLEVBR0ZjLEdBSEUsQ0FHR0YsSUFBRCxJQUNEQSxJQUFJLENBQUNLLFVBQUwsQ0FBZ0JmLGNBQUtDLFNBQUwsQ0FBZSxhQUFmLENBQWhCLElBQ0lELGNBQUtnQixPQUFMLENBQWFoQixjQUFLQyxTQUFMLENBQWVTLElBQUksQ0FBQ0csT0FBTCxDQUFhLGFBQWIsRUFBNEIsRUFBNUIsQ0FBZixDQUFiLENBREosR0FFSUgsSUFOTCxDQUFQO0FBUUgiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcGF3blN5bmMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRNb2Nrcyhjd2Q6IHN0cmluZykge1xuXG4gICAgY29uc3QgbW9ja3MgPSBzcGF3blN5bmMoXG4gICAgICAgICdub2RlJyxcbiAgICAgICAgW3BhdGgubm9ybWFsaXplKHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdnZXRQYXRocy5qcycpKSwgY3dkLCBwYXRoLmpvaW4oJyoqJywnX19tb2Nrc19fJywnKionLCcqJyldLFxuICAgICAgICB7ZW5jb2Rpbmc6ICd1dGYtOCd9XG4gICAgKS5zdGRvdXQ7XG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZShtb2NrcylcbiAgICAgICAgLmZpbHRlcigobW9jaykgPT4gIW1vY2suaW5jbHVkZXMoJ25vZGVfbW9kdWxlcycpKVxuICAgICAgICAubWFwKChtb2NrKSA9PiBtb2NrLnJlcGxhY2UocHJvY2Vzcy5jd2QoKSwgJycpKVxuICAgICAgICAubWFwKChtb2NrKSA9PiAoXG4gICAgICAgICAgICBtb2NrLnN0YXJ0c1dpdGgocGF0aC5ub3JtYWxpemUoJy9fX21vY2tzX18vJykpID9cbiAgICAgICAgICAgICAgICBwYXRoLmRpcm5hbWUocGF0aC5ub3JtYWxpemUobW9jay5yZXBsYWNlKCcvX19tb2Nrc19fLycsICcnKSkpIDpcbiAgICAgICAgICAgICAgICBtb2NrXG4gICAgICAgICkpO1xufVxuIl19